<div class="w-full">
  <!-- hero-form.component.html -->
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="flex flex-col">
      <mat-form-field class="mb-3">
        <mat-label>Name</mat-label>
        <input id="name" formControlName="name" matInput appUppercase />
        @if (form.get("name")?.invalid) {
          <mat-error>Name is required.</mat-error>
        }
      </mat-form-field>

      <ng-container formGroupName="biography">
        <mat-form-field class="mb-3">
          <mat-label>Full Name</mat-label>
          <input id="fullName" formControlName="fullName" matInput />
          @if (form.get("fullName")?.invalid && form.get("fullName")?.touched) {
            <mat-error>FullName is required.</mat-error>
          }
        </mat-form-field>

        <mat-form-field class="mb-3">
          <mat-label>Alignment</mat-label>
          <mat-select id="alignment" formControlName="alignment">
            <mat-option value="good">Good</mat-option>
            <mat-option value="bad">Bad</mat-option>
            <mat-option value="-">Neutral</mat-option>
          </mat-select>

          @if (
            form.get("alignment")?.invalid && form.get("alignment")?.touched
          ) {
            <mat-error>alignment is required.</mat-error>
          }
        </mat-form-field>

        <mat-form-field class="mb-3">
          <mat-label>Publisher</mat-label>
          <input id="publisher" formControlName="publisher" matInput />
          @if (
            form.get("publisher")?.invalid && form.get("publisher")?.touched
          ) {
            <mat-error>Publisher is required.</mat-error>
          }
        </mat-form-field>

        <mat-form-field class="mb-3">
          <mat-label>First Appearance</mat-label>
          <input
            id="firstAppearance"
            formControlName="firstAppearance"
            matInput
          />
          @if (
            form.get("firstAppearance")?.invalid &&
            form.get("firstAppearance")?.touched
          ) {
            <mat-error>First Appearance is required.</mat-error>
          }
        </mat-form-field>
      </ng-container>

      <ng-container formGroupName="work">
        <mat-form-field class="mb-3">
          <mat-label>Occupation</mat-label>
          <input id="occupation" formControlName="occupation" matInput />
          @if (
            form.get("occupation")?.invalid && form.get("occupation")?.touched
          ) {
            <div>Occupation is required.</div>
          }
        </mat-form-field>
      </ng-container>

      <div class="flex flex-row justify-between">
        <ng-content select="[cancel-button]"></ng-content>
        <button type="submit" mat-flat-button [disabled]="form.invalid">
          Save
        </button>
      </div>
    </div>
  </form>
</div>
